(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5167:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(8800),t(2029),t(5866);var a=t(3191),r=t(8716),n=t(7922),i=t.n(n),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8800)),"/home/seyominaoto/Videos/AgentAuth/agentbuy/frontend/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/home/seyominaoto/Videos/AgentAuth/agentbuy/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/seyominaoto/Videos/AgentAuth/agentbuy/frontend/src/app/page.tsx"],m="/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3246:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1297:()=>{},3686:(e,s,t)=>{Promise.resolve().then(t.bind(t,6792))},6792:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var a=t(326),r=t(7577);function n(){let[e,s]=(0,r.useState)(!1),[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)([{role:"assistant",content:"Hi! I'm your AI purchase assistant. Tap the mic and tell me what you'd like to buy.",timestamp:new Date}]),[l,d]=(0,r.useState)(null),c=(0,r.useRef)(null),m=(0,r.useRef)([]),u=(0,r.useCallback)((e,s)=>{o(t=>[...t,{role:e,content:s,timestamp:new Date}])},[]),x=(0,r.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e,{mimeType:"audio/webm"});c.current=t,m.current=[],t.ondataavailable=e=>{m.current.push(e.data)},t.onstop=async()=>{let s=new Blob(m.current,{type:"audio/webm"});e.getTracks().forEach(e=>e.stop()),await h(s)},t.start(),s(!0)}catch(e){console.error("Failed to start recording:",e),u("system","Failed to access microphone. Please check permissions.")}},[u]),p=(0,r.useCallback)(()=>{c.current&&e&&(c.current.stop(),s(!1))},[e]),h=async e=>{n(!0),u("user","\uD83C\uDFA4 [Voice command...]");try{let s=new FormData;s.append("audio",e,"recording.webm"),s.append("user_id","demo_user");let t=await fetch("/api/v1/voice",{method:"POST",body:s}),a=await t.json();a.success?(d({order_id:a.order_id,total_price:a.total_price,platform:a.platform,estimated_ready:a.estimated_ready}),u("assistant",a.message)):u("assistant",a.message||"Sorry, I could not process that request.")}catch(e){console.error("Error processing audio:",e),u("assistant","Sorry, there was an error processing your request. Try the text input instead.")}finally{n(!1)}},g=async e=>{if(e.trim()){u("user",e),n(!0);try{let s=await fetch("/api/v1/command",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,user_id:"demo_user"})}),t=await s.json();t.success&&t.order_id&&d({order_id:t.order_id,total_price:t.total_price,platform:t.platform,estimated_ready:t.estimated_ready}),u("assistant",t.message)}catch(e){console.error("Error sending command:",e),u("assistant","Sorry, there was an error. Please try again.")}finally{n(!1)}}},[y,f]=(0,r.useState)("");return(0,a.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx("header",{className:"glass border-b border-white/10 p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"\uD83D\uDED2"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"font-bold text-lg",children:"AgentBuy"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Voice AI Purchase Agent"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Online"})]})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 max-w-4xl mx-auto w-full",children:(0,a.jsxs)("div",{className:"space-y-4",children:[i.map((e,s)=>a.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${"user"===e.role?"bg-gradient-to-br from-primary to-secondary text-white":"system"===e.role?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"glass text-white"}`,children:a.jsx("p",{className:"text-sm leading-relaxed",children:e.content})})},s)),l&&(0,a.jsxs)("div",{className:"glass rounded-2xl p-4 border border-green-500/30 bg-green-500/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"text-green-400 text-lg",children:"✓"}),a.jsx("span",{className:"font-semibold text-green-400",children:"Order Confirmed"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Platform"}),a.jsx("p",{className:"font-medium capitalize",children:l.platform})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Total"}),(0,a.jsxs)("p",{className:"font-medium",children:["$",l.total_price.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Order ID"}),a.jsx("p",{className:"font-mono text-xs",children:l.order_id})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400",children:"Ready by"}),a.jsx("p",{className:"font-medium",children:new Date(l.estimated_ready).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),t&&a.jsx("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"glass rounded-2xl px-4 py-3 flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),a.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce [animation-delay:0.1s]"}),a.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce [animation-delay:0.2s]"})]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Processing..."})]})})]})}),a.jsx("footer",{className:"glass border-t border-white/10 p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsxs)("button",{onClick:e?p:x,disabled:t,className:`relative w-20 h-20 rounded-full flex items-center justify-center transition-all ${e?"bg-red-500 scale-110":"bg-gradient-to-br from-primary to-secondary hover:scale-105"} ${t?"opacity-50 cursor-not-allowed":""}`,children:[e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-20"}),a.jsx("span",{className:"absolute inset-0 rounded-full bg-red-500 animate-pulse opacity-40"})]}),a.jsx("span",{className:"text-3xl z-10",children:e?"⏹":"\uD83C\uDFA4"})]})}),e&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-4",children:[[void 0,void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"w-1 bg-red-400 rounded-full voice-wave",style:{animationDelay:`${.1*s}s`}},s)),a.jsx("span",{className:"ml-2 text-sm text-red-400",children:"Listening..."})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g(y),f("")},className:"flex gap-2",children:[a.jsx("input",{type:"text",value:y,onChange:e=>f(e.target.value),placeholder:"Or type your request...",disabled:t,className:"flex-1 bg-surface rounded-xl px-4 py-3 text-sm border border-white/10 focus:outline-none focus:border-primary transition-colors"}),a.jsx("button",{type:"submit",disabled:t||!y.trim(),className:"px-6 py-3 bg-gradient-to-r from-primary to-secondary rounded-xl font-medium text-sm hover:opacity-90 transition-opacity disabled:opacity-50",children:"Send"})]}),a.jsx("p",{className:"text-center text-xs text-gray-500 mt-3",children:'Try: "Buy me a grande latte from Starbucks"'})]})})]})}},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>r});var a=t(9510);t(5023);let r={title:"AgentBuy - Voice AI Purchase Agent",description:"Buy anything with your voice. AI-powered autonomous purchasing."};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},8800:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(9510);let r=(0,t(8570).createProxy)(String.raw`/home/seyominaoto/Videos/AgentAuth/agentbuy/frontend/src/components/VoiceAgent.tsx#default`);function n(){return a.jsx(r,{})}},5023:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[819],()=>t(5167));module.exports=a})();